\section{Introduction}
\label{sec:intro}

RDMA (Remote Direct Memory Access) is a high performance network protocol that offers microseconds latency and hundreds of gigabits throughput,
which can significantly benefit high performance computing as well as data intensive workload. RDMA was initially designed to run over InfiniBand network,
and was mostly used in HPC clusters. Its high performance characteristics comparing with traditional TCP/IP stack lead to the standardization of RoCE,
RDMA over Converged Ethernet, and significantly improved the performance of modern datacenter applications like \texttt{memcached}, \texttt{Spark} and \texttt{Tensorflow}.

Originally designed for HPC environment, RDMA has very little built-in security features. Other than a 32-bit remote key for RDMA read/write requests,
there is no security feature other than standard CRC for detecting link-level bit errors. Previous work like ThrowHammer~\cite{216055} has shown that
it's possible to launch local-only memory attack over RDMA, due to its high message rate capability. In addition, an attacker can also perform a
denial-of-service attack by injecting RDMA request at high speed, or by sending large amount of read requests, which are small themselves, but
generates large amount of data to be sent in responses.

In this paper, we will show that it is possible for an attacker to launch a man-in-the-middle attack. Realisticly, this means that in a datacenter,
a malicious user compromised a switch and thus is able to view and modify traffic going through the switch. We show that without proper protection,
normal application traffic can be hijacked. We describe the proof-of-concept attack and show its feasibility in \autoref{sec:poc.attack}.

This motivates many potential defense mechanisms, two of which are encrypting and authenticating the traffic end-to-end.
We show in \autoref{sec:encrypt} that modern datacenter server CPUs need at least several cores solely
for encrypting/hashing traffic at line rate, which is around $40 - 100$ Gbps for modern NICs.
Our result shows that NIC offloading or accelerator is the preferred way to achieve such RDMA security goals at line rate.
